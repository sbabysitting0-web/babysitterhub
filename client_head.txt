// This file is automatically generated. Do not edit it directly.
import { createClient } from '@supabase/supabase-js';
import type { Database } from './types';

// Hardcoded fallbacks because .env is not tracked by git, so Vercel builds
// would otherwise get `undefined`. These are publishable (anon) keys â€” safe to commit.
const SUPABASE_URL =
  import.meta.env.VITE_SUPABASE_URL ||
  "https://utqlshqdbefcgoaigmnz.supabase.co";
const SUPABASE_PUBLISHABLE_KEY =
  import.meta.env.VITE_SUPABASE_PUBLISHABLE_KEY ||
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV0cWxzaHFkYmVmY2dvYWlnbW56Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4NTYyNDksImV4cCI6MjA4NzQzMjI0OX0.ecn0RpTXaVbRSTEwr6JXuUNfoNLhbraTUYpLxr_Yfgw";

// Import the supabase client like this:
// import { supabase } from "@/integrations/supabase/client";

export const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {
  auth: {
    persistSession: true,
    autoRefreshToken: true,
    detectSessionInUrl: true,
    // Note: Do NOT set storage: localStorage explicitly.
    // That causes iOS Safari login to fail due to ITP (Intelligent Tracking Prevention).
    // Supabase's default storage handles cross-browser/mobile correctly.
  }
});